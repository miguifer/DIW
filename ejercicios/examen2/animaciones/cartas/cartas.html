<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        .grid {
            width: fit-content;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .contenedor {
            width: fit-content;
            height: fit-content;
            position: relative;
        }

        #as .carta {
            background-image: url("as.jpg");
        }

        #caballo .carta {
            background-image: url("caballo.jpg");
        }

        #cinco .carta {
            background-image: url("cinco.jpg");
        }


        .carta {
            width: 200px;
            height: 310px;
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            position: relative;
            top: 0;
            left: 0;
            border-radius: 10px;
            z-index: 0;
            transition: transform 0.5s ease, z-index 0.5s ease;
            opacity: 0;
        }

        .cartaReverso {
            width: 200px;
            height: 310px;
            background-image: url("reverso.jpg");
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            position: absolute;
            top: 0;
            left: 0;
            border-radius: 10px;
            z-index: 1;
            transition: transform 0.5s ease, z-index 0.5s ease;
            opacity: 0.5;

        }

        .contenedor:hover .carta {
            /* z-index: 0; */
            /* transform: rotateY(180deg); */
        }

        .contenedor:hover .cartaReverso {
            /* z-index: 1; */
            /* transform: rotateY(180deg); */
            opacity: 1;


        }

        .girada .carta {

            transform: rotateY(180deg);
            opacity: 1;
            z-index: 1;
        }

        .girada .cartaReverso {

            transform: rotateY(180deg);
            z-index: 0;
        }
    </style>
</head>

<body>

    <div class="grid">
        <div class="contenedor" onclick="girarCarta(this)" id="as">
            <div class="carta"></div>
            <div class="cartaReverso"></div>
        </div>
        <div class="contenedor" onclick="girarCarta(this)" id="caballo">
            <div class="carta"></div>
            <div class="cartaReverso"></div>
        </div>
        <div class="contenedor" onclick="girarCarta(this)" id="cinco">
            <div class="carta"></div>
            <div class="cartaReverso"></div>
        </div>
        <div class="contenedor" onclick="girarCarta(this)" id="as">
            <div class="carta"></div>
            <div class="cartaReverso"></div>
        </div>
        <div class="contenedor" onclick="girarCarta(this)" id="cinco">
            <div class="carta"></div>
            <div class="cartaReverso"></div>
        </div>
        <div class="contenedor" onclick="girarCarta(this)" id="caballo">
            <div class="carta"></div>
            <div class="cartaReverso"></div>
        </div>
    </div>
    <div>
        <p>Intentos: <a id="contador-fallos">0</a></p>
    </div>
    <div>
        <button id="tema" onclick="cambiarTema()"></button>
    </div>

    <!-- <script src="script.js"></script> -->
    <script>



        var auxCarta = null;
        let fallos = 0;

        function girarCarta(cartaGirada) {
            // if (!cartaGirada.classList.contains('girada')) {
            cartaGirada.classList.toggle('girada');
            setTimeout(comparar, 1000, cartaGirada); //add //existe !important 
            // }


        }

        

        function comparar(carta2) {


            if (auxCarta == null) {
                auxCarta = carta2;
            } else {
                fallos++;
                document.getElementById('contador-fallos').textContent = fallos;

                if (auxCarta.id == carta2.id) {

                } else {

                    auxCarta.classList.remove('girada');
                    carta2.classList.remove('girada');

                }
                auxCarta = null;
            }





        }


    </script>
</body>

</html>